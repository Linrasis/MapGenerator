<html>
<head>
	<script src="MapGen.js"></script>
	<script type="text/javascript">
		var mapLevels = 2;
		var angleSteps = 4;
		var angleStepIncrease = 2;
		var debugDrawing = false;
		
		function addLevel() {
			mapLevels = mapLevels + 1;
			redrawMap();
		}
		
		function removeLevel() {
			if(mapLevels > 0) {
				mapLevels = mapLevels - 1;
				redrawMap();
			}
		}
		
		function addStep() {
			angleSteps = angleSteps + 1;
			redrawMap();
		}
		
		function removeStep() {
			if(angleSteps > 1) {
				angleSteps = angleSteps - 1;
				redrawMap();
			}
		}
		
		function increaseStepFactor() {
			angleStepIncrease = angleStepIncrease + 1;
			redrawMap();
		}
		
		function decreaseStepFactor() {
			if(angleStepIncrease > 1) {
				angleStepIncrease = angleStepIncrease - 1;
				redrawMap();
			}
		}
		
		function toggleDebugging() {
			debugDrawing = !debugDrawing;
			redrawMap();
		}
		
		function redrawMap() {
			
			document.getElementById("values").innerHTML = "Levels: " + mapLevels + ", Initial Section Count: " + angleSteps + ", Section Increase Factor: " + angleStepIncrease;
		
			var canvas = document.getElementById('mapCanvas');
			var context = canvas.getContext('2d');
			
			context.clearRect(0, 0, canvas.width, canvas.height);
			
			drawMap(generateMap(mapLevels, angleSteps, angleStepIncrease), "mapCanvas", true, debugDrawing);
		}
	</script>
</head>
<body>
	<canvas id="mapCanvas" width="400px" height="400px"	style="border:1px solid #000000;">
	</canvas>
	<div id="values"> </div>
	<br/>
	<a href="#" onclick="toggleDebugging()">Toggle Debugging</a>
	<br/>
	<a href="#" onclick="addLevel()">Add Level</a>
	<a href="#" onclick="removeLevel()">Remove Level</a>
	<br/>
	<a href="#" onclick="addStep()">Add Initial Section</a>
	<a href="#" onclick="removeStep()">Remove Initial Section</a>
	<br/>
	<a href="#" onclick="increaseStepFactor()">Increase Section Increase Factor</a>
	<a href="#" onclick="decreaseStepFactor()">Decrease Section Increase Factor</a>
	
	<script>
		redrawMap();
	</script>
</body>
</html>
